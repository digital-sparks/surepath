{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/careers.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "window.Webflow ||= [];\nwindow.Webflow.push(() => {\n  let departments = [];\n  let locations = [];\n\n  const jobLength = document.querySelectorAll('[fs-cmsfilter-element=\"list\"] .w-dyn-item').length;\n\n  document.querySelector('[fs-element=\"string\"]').innerHTML = `${jobLength} role${\n    jobLength > 1 || jobLength === 0 ? 's' : ''\n  } across <strong> all departments </strong> and <strong> all locations</strong>.`;\n\n  document.querySelectorAll('[fs-cmsfilter-element=\"list\"] .w-dyn-item').forEach((job) => {\n    const locationElement = job.querySelector('[fs-cmsfilter-field=\"location\"]');\n    if (locationElement) {\n      const locationName = locationElement.textContent.trim();\n\n      if (!locations.includes(locationName)) {\n        locations.push(locationName);\n\n        const select = document.querySelector('select[fs-cmsfilter-field=\"location\"]');\n        let opt = document.createElement('option');\n        opt.value = locationName;\n        opt.innerHTML = locationName;\n        select.appendChild(opt);\n      }\n    }\n\n    const departmentElement = job.querySelector('[fs-cmsfilter-field=\"department\"]');\n    if (departmentElement) {\n      const departmentName = departmentElement.textContent.trim();\n\n      if (!departments.includes(departmentName)) {\n        departments.push(departmentName);\n\n        const select = document.querySelector('select[fs-cmsfilter-field=\"department\"]');\n        let opt = document.createElement('option');\n        opt.value = departmentName;\n        opt.innerHTML = departmentName;\n        select.appendChild(opt);\n\n        // Clone the department wrap element\n        const departmentWrapTemplate = document.querySelector('[fs-element=\"department-wrap\"]');\n        if (departmentWrapTemplate) {\n          const newDepartmentWrap = departmentWrapTemplate.cloneNode(true);\n\n          // Update the department name in the cloned element\n          const departmentNameElement = newDepartmentWrap.querySelector(\n            '[fs-cmsfilter-field=\"department\"]'\n          );\n          if (departmentNameElement) {\n            departmentNameElement.textContent = departmentName;\n          }\n\n          const jobNameElement = newDepartmentWrap.querySelector('[fs-cmsfilter-field=\"title\"]');\n\n          const locationNameElement = newDepartmentWrap.querySelector(\n            '[fs-cmsfilter-field=\"location\"]'\n          );\n\n          document\n            .querySelectorAll('[fs-cmsfilter-element=\"list\"] .w-dyn-item')\n            .forEach((innerJob) => {\n              const innerDepartment = innerJob.querySelector(\n                '[fs-cmsfilter-field=\"department\"]'\n              ).textContent;\n              const innerLocation = innerJob.querySelector(\n                '[fs-cmsfilter-field=\"location\"]'\n              ).textContent;\n              const innertitle = innerJob.querySelector('[fs-cmsfilter-field=\"title\"]').textContent;\n\n              if (innerDepartment === departmentName) {\n                const newEl = locationNameElement.cloneNode(true, true);\n                newEl.textContent = innerLocation;\n                locationNameElement.append(newEl);\n\n                jobNameElement.innerHTML = `${jobNameElement.innerHTML} ${innertitle}`;\n              }\n            });\n\n          // Prepend the new department wrap before the job element\n          job.parentNode.insertBefore(newDepartmentWrap, job);\n        }\n      }\n    }\n  });\n\n  window.fsAttributes = window.fsAttributes || [];\n  window.fsAttributes.push([\n    'cmsfilter',\n    (filterInstances) => {\n      // The callback passes a `filterInstances` array with all the `CMSFilters` instances on the page.\n      const [filterInstance] = filterInstances;\n\n      // The `renderitems` event runs whenever the list renders items after filtering.\n      filterInstance.listInstance.on('renderitems', (renderedItems) => {\n        console.log(renderedItems);\n        const filterItems = renderedItems.filter((item) =>\n          item.element.classList.contains('w-dyn-item')\n        );\n\n        const count = filterItems.length;\n        const uniqueLocations = new Set();\n        const uniqueDepartments = new Set();\n\n        filterItems.forEach((item) => {\n          if (item.props && item.props.location && item.props.location.values) {\n            item.props.location.values.forEach((location) => uniqueLocations.add(location));\n          }\n          if (item.props && item.props.department && item.props.department.values) {\n            item.props.department.values.forEach((department) => uniqueDepartments.add(department));\n          }\n        });\n\n        const locationCount = uniqueLocations.size;\n        const departmentCount = uniqueDepartments.size;\n\n        console.log(count, locationCount, departmentCount);\n\n        const textString = `${count} role${count > 1 || count === 0 ? 's' : ''} across <strong>${\n          departmentCount === departments.length ? 'all' : departmentCount\n        } department${\n          departmentCount > 1 || departmentCount === 0 ? 's' : ''\n        } </strong> and <strong>${\n          locationCount === locations.length ? 'all' : locationCount\n        } location${locationCount > 1 || locationCount === 0 ? 's' : ''}</strong>.`;\n\n        document.querySelector('[fs-element=\"string\"]').innerHTML = textString;\n        console.log(textString);\n      });\n    },\n  ]);\n\n  document.querySelector('[fs-cmsfilter-element=\"empty\"] a').addEventListener('click', () => {\n    document.querySelector('[fs-cmsfilter-element=\"clear\"]').click();\n  });\n});\n"],
  "mappings": "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",
  "names": ["location"]
}
