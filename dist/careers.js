(()=>{window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let s={jobCountSelector:'[fs-element="summary"]',departmentWrapTemplateSelector:'[fs-element="department-wrap"]',departmentNameSelector:'[fs-cmsfilter-field="department"]',jobTitleSelector:'[fs-cmsfilter-field="title"]',locationSelector:'[fs-cmsfilter-field="location"]',emptyMessageLinkSelector:'[fs-cmsfilter-element="empty"] a',clearFiltersSelector:'[fs-cmsfilter-element="clear"]',jobItemClassName:"w-dyn-item"},p=new Set,f=new Set,u=(o,r)=>{let n=document.querySelector(`select[fs-cmsfilter-field="${o}"]`),e=document.createElement("option");e.value=e.innerHTML=r,n.appendChild(e)},S=(o,r,n)=>{let e=(t,a,i)=>`${t===i?"all":t} ${a}${t!==1?"s":""}`,c=`${o} role${o!==1?"s":""} across <strong>${e(r,"department",p.size)}</strong> and <strong>${e(n,"location",f.size)}</strong>`;document.querySelector(s.jobCountSelector).innerHTML=c},y=async(o,r,n)=>{let e=[...o.props.department.values][0],c=[...o.props.location.values][0];if(f.has(c)||(f.add(c),u("location",c)),!p.has(e)&&(p.add(e),u("department",e),r)){let t=r.cloneNode(!0),a=t.querySelector(s.departmentNameSelector);a&&(a.textContent=e);let i=t.querySelector(s.jobTitleSelector),l=t.querySelector(s.locationSelector);n.items.forEach(m=>{let d=[...m.props.department.values][0],b=[...m.props.location.values][0],h=[...m.props.title.values][0];if(d===e){let w=l.cloneNode(!0);w.textContent=b,l.appendChild(w),i.innerHTML+=` ${h}`}}),await n.addStaticItems([{itemElement:t,targetIndex:o.currentIndex,interactive:!0}])}};window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",async o=>{let[r]=o,{listInstance:n}=r,e=document.querySelector(s.departmentWrapTemplateSelector);for(let t of n.items)await y(t,e,n);let c=n.items.filter(t=>t.element.classList.contains(s.jobItemClassName));S(c.length,p.size,f.size),n.on("renderitems",t=>{let a=t.filter(l=>l.element.classList.contains(s.jobItemClassName)),i=a.reduce((l,{props:m})=>(m?.location?.values?.forEach(d=>l.locations.add(d)),m?.department?.values?.forEach(d=>l.departments.add(d)),l),{count:0,locations:new Set,departments:new Set});S(a.length,i.departments.size,i.locations.size)})}]),document.querySelector(s.emptyMessageLinkSelector).addEventListener("click",()=>{document.querySelector(s.clearFiltersSelector).click()})});})();
